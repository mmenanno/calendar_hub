<%#
  Reusable collapsible section used across multiple pages
  Usage: render "shared/collapsible_section", title: "Add New Item", key: "add-item", default_open: false do
    # form content
  end
%>
<div id="<%= local_assigns[:id] || "#{local_assigns[:key]}_form" %>"
     class="rounded-2xl border border-slate-800 bg-slate-900/70 p-5"
     data-controller="collapsible"
     data-collapsible-key-value="<%= local_assigns[:key] %>"
     data-collapsible-default-open-value="<%= local_assigns[:default_open] || false %>"
     data-collapsible-remember-value="false">
  <div class="mb-3 flex items-center justify-between">
    <h2 class="text-lg font-semibold"><%= local_assigns[:title] %></h2>
    <button type="button" class="cursor-pointer rounded-lg border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-slate-500" data-action="collapsible#toggle">
      <span data-collapsible-target="label"><%= t("common.actions.show") %></span>
      <span data-collapsible-target="icon" class="ml-1 inline-block transition-transform">â–¾</span>
    </button>
  </div>
  <div data-collapsible-target="content" class="hidden">
    <%= yield %>
  </div>
</div>
